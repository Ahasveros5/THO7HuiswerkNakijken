DROP TABLE PERSON;
DROP TABLE CLASS;
DROP TABLE COURSE;
DROP TABLE ANSWER;
DROP TABLE QUESTION;
DROP TABLE HOMEWORK;


CREATE TABLE HOMEWORK (
homework_id NUMBER(10),
homework_name VARCHAR2(100),
CONSTRAINT PK_HOMEWORK PRIMARY KEY(homework_id)
);

CREATE TABLE QUESTION (
question_id NUMBER(10),
question_name VARCHAR2(100),
question VARCHAR2(500),
homework_id NUMBER(10),
CONSTRAINT PK_QUESTION PRIMARY KEY(question_id),
CONSTRAINT FK_HOMEWORK_ID_QUESTION FOREIGN KEY(homework_id) REFERENCES HOMEWORK(homework_id)
);

CREATE TABLE ANSWER (
answer_id NUMBER(10),
answer VARCHAR2(200),
correct NUMBER(1),
question_id NUMBER(10),
CONSTRAINT PK_ANSWER PRIMARY KEY(answer_id),
CONSTRAINT FK_QUESTION_ID_ANSWER FOREIGN KEY(question_id) REFERENCES QUESTION(question_id)
);

CREATE TABLE COURSE (
course_id NUMBER(10),
homework_id NUMBER(10),
CONSTRAINT PK_COURSE PRIMARY KEY (course_id),
CONSTRAINT FK_HOMEWORK_ID_COURSE FOREIGN KEY(homework_id) REFERENCES HOMEWORK(homework_id)
);

CREATE TABLE CLASS (
class_id NUMBER(10),
class_name VARCHAR2(10),
course_id NUMBER(10),
CONSTRAINT PK_CLASS PRIMARY KEY (class_id),
CONSTRAINT UK_CLASS_NAME UNIQUE(class_name),
CONSTRAINT FK_COURSE_ID FOREIGN KEY(course_id) REFERENCES COURSE(course_id)
);

CREATE TABLE PERSON (
id NUMBER(10),
email VARCHAR2(30),
password VARCHAR2(200),
first_name VARCHAR2(100),
last_name VARCHAR2(100),
role NUMBER(1),
class_id NUMBER(10),
course_id NUMBER(10),
homework_id NUMBER(10),
CONSTRAINT PK_PERSON PRIMARY KEY (id),
CONSTRAINT UK_EMAIL UNIQUE(email),
CONSTRAINT FK_CLASS_ID FOREIGN KEY(class_id) REFERENCES CLASS(class_id),
CONSTRAINT FK_HOMEWORK_ID_PERSON FOREIGN KEY(homework_id) REFERENCES HOMEWORK(homework_id),
CONSTRAINT FK_COURSE_PERSON_ID FOREIGN KEY(course_id) REFERENCES COURSE(course_id)
);






